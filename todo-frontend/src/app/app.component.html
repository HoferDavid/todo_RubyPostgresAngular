<h1>Todo List</h1>

<!-- Reactive input with signal binding -->
<div>
  <input
    type="text"
    [value]="newTaskTitle()"
    (input)="newTaskTitle.set($any($event.target).value)"
    (keyup.enter)="addTask()"
    placeholder="Add a new task"
  />
  <button (click)="addTask()">Add Task</button>

  <!-- Display error if any -->
  @if (error()) {
  <p style="color: red">{{ error() }}</p>
  }
</div>

<!-- Display tasks with checkbox and delete button -->
<ul>
  @for (task of tasks(); track task.id) {
  <li>
    <input
      type="checkbox"
      [checked]="task.completed"
      (change)="toggleCompleted(task.id, task.completed)"
    />
    {{ task.title }} (Completed: {{ task.completed ? "Yes" : "No" }})
    <button (click)="deleteTask(task.id)" style="margin-left: 10px; color: red">
      Delete
    </button>
  </li>
  }
</ul>
